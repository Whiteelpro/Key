local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local StarterGui = game:GetService("StarterGui")
local SoundService = game:GetService("SoundService")

-- Variables
local correctKey = "whitexshop1234" -- Cambia esta clave para verificar (-- CLAVE VERIFICACIÓN)
local soundId = "rbxassetid://93111058322469" -- ID del sonido proporcionado
local impressSoundId = "rbxassetid://79645355245493" -- ID del sonido para el botón "Click para impresionarte"
local link = "https://loot-link.com/s?efe1a8b8" -- Link que se copiará al hacer clic en el botón

-- Crear pantalla GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
screenGui.IgnoreGuiInset = true

-- Panel principal
local panel = Instance.new("Frame")
panel.Size = UDim2.new(0.4, 0, 0.5, 0)
panel.Position = UDim2.new(0.3, 0, 0.25, 0)
panel.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
panel.BorderSizePixel = 2 -- Ancho del borde
panel.BorderColor3 = Color3.fromRGB(50, 50, 50)
panel.Parent = screenGui
panel.BackgroundTransparency = 0.5

-- Esquinas redondeadas
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0.05, 0)
corner.Parent = panel

-- Sombra para el panel
local shadow = Instance.new("Frame")
shadow.Size = UDim2.new(1, 10, 1, 10)
shadow.Position = UDim2.new(0, -5, 0, -5)
shadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
shadow.BackgroundTransparency = 0.7
shadow.ZIndex = 0
shadow.Parent = panel
local shadowCorner = Instance.new("UICorner")
shadowCorner.CornerRadius = UDim.new(0.05, 0)
shadowCorner.Parent = shadow

-- Partículas decorativas
local particles = Instance.new("Frame")
particles.Size = UDim2.new(1, 0, 1, 0)
particles.Position = UDim2.new(0, 0, 0, 0)
particles.BackgroundTransparency = 1
particles.ClipsDescendants = true
particles.Parent = panel

for i = 1, 20 do
    local particle = Instance.new("ImageLabel")
    particle.Size = UDim2.new(0.05, 0, 0.05, 0)
    particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
    particle.BackgroundTransparency = 1
    particle.Image = "rbxassetid://4925116996" -- ID genérico para partículas
    particle.ImageTransparency = 0.5
    particle.Parent = particles

    local tween = TweenService:Create(
        particle,
        TweenInfo.new(math.random(5, 10), Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, -1, true),
        {Position = UDim2.new(math.random(), 0, math.random(), 0), ImageTransparency = 1}
    )
    tween:Play()
end

-- Borde degradado
local borderGradient = Instance.new("UIGradient")
borderGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 255)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 0, 0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0))
}
borderGradient.Parent = panel

-- Título Discord
local discordLabel = Instance.new("TextLabel")
discordLabel.Size = UDim2.new(0.8, 0, 0.1, 0)
discordLabel.Position = UDim2.new(0.1, 0, 0.1, 0)
discordLabel.BackgroundTransparency = 1
discordLabel.Text = "Join our Discord!" -- Cambia el texto aquí (-- DISCORD)
discordLabel.Font = Enum.Font.GothamBold
discordLabel.TextSize = 20
discordLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
discordLabel.Parent = panel

-- Icono Discord
local discordIcon = Instance.new("ImageLabel")
discordIcon.Size = UDim2.new(0.05, 0, 0.05, 0)
discordIcon.Position = UDim2.new(0.05, 0, 0.1, 0)
discordIcon.BackgroundTransparency = 1
discordIcon.Image = "https://www.roblox.com/asset/?id=1234567890" -- Cambiar por el ID del icono
discordIcon.Parent = panel

-- Título Get Key
local getKeyLabel = Instance.new("TextLabel")
getKeyLabel.Size = UDim2.new(0.8, 0, 0.1, 0)
getKeyLabel.Position = UDim2.new(0.1, 0, 0.2, 0)
getKeyLabel.BackgroundTransparency = 1
getKeyLabel.Text = "Get your key here:" -- Cambia el texto aquí (-- GET KEY)
getKeyLabel.Font = Enum.Font.GothamBold
getKeyLabel.TextSize = 20
getKeyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
getKeyLabel.Parent = panel

-- Botón extra con gradiente
local extraButton = Instance.new("TextButton")
extraButton.Size = UDim2.new(0.8, 0, 0.1, 0)
extraButton.Position = UDim2.new(0.1, 0, 0.35, 0)
extraButton.Text = "Click Me!"
extraButton.Font = Enum.Font.GothamBold
extraButton.TextSize = 18
extraButton.TextColor3 = Color3.fromRGB(255, 255, 255)
extraButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
extraButton.Parent = panel

local buttonGradient = Instance.new("UIGradient")
buttonGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 255))
}
buttonGradient.Parent = extraButton

local extraCorner = Instance.new("UICorner")
extraCorner.CornerRadius = UDim.new(1, 0)
extraCorner.Parent = extraButton

-- Texto central
local centralText = Instance.new("TextLabel")
centralText.Size = UDim2.new(0.8, 0, 0.2, 0)
centralText.Position = UDim2.new(0.1, 0, 0.4, 0)
centralText.BackgroundTransparency = 1
centralText.Text = "Introduce tu clave:" -- Cambia el texto aquí (-- TEXTO CENTRAL)
centralText.Font = Enum.Font.GothamBold
centralText.TextSize = 24
centralText.TextColor3 = Color3.fromRGB(255, 255, 255)
centralText.Parent = panel

-- Campo de entrada para clave
local keyBox = Instance.new("TextBox")
keyBox.Size = UDim2.new(0.6, 0, 0.1, 0)
keyBox.Position = UDim2.new(0.1, 0, 0.6, 0)
keyBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
keyBox.Font = Enum.Font.Gotham
keyBox.TextSize = 18
keyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
keyBox.PlaceholderText = "" -- Campo de entrada vacío
keyBox.Parent = panel

-- Botón Enter
local enterButton = Instance.new("TextButton")
enterButton.Size = UDim2.new(0.2, 0, 0.1, 0)
enterButton.Position = UDim2.new(0.75, 0, 0.6, 0)
enterButton.BackgroundColor3 = Color3.fromRGB(0, 122, 204)
enterButton.Text = "Enter"
enterButton.Font = Enum.Font.GothamBold
enterButton.TextSize = 18
enterButton.TextColor3 = Color3.fromRGB(255, 255, 255)
enterButton.Parent = panel

-- Hacer el botón de Enter redondo
local enterCorner = Instance.new("UICorner")
enterCorner.CornerRadius = UDim.new(1, 0)
enterCorner.Parent = enterButton

-- Botón para cerrar el panel (con gradiente rojo-naranja)
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0.1, 0, 0.1, 0)
closeButton.Position = UDim2.new(0.9, -10, 0, 10)
closeButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
closeButton.Text = "X"
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 18
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Parent = panel

-- Hacer el botón de cierre redondo
local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(1, 0)
closeCorner.Parent = closeButton

local closeButtonGradient = Instance.new("UIGradient")
closeButtonGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)), -- Rojo
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 165, 0)) -- Naranja
}
closeButtonGradient.Parent = closeButton

-- Crear el botón redondo "Click para impresionarte"
local impressButton = Instance.new("TextButton")
impressButton.Size = UDim2.new(0.4, 0, 0.1, 0)
impressButton.Position = UDim2.new(0.3, 0, 0.75, 0)
impressButton.Text = "Click para impresionarte"
impressButton.Font = Enum.Font.GothamBold
impressButton.TextSize = 18
impressButton.TextColor3 = Color3.fromRGB(255, 255, 255)
impressButton.BackgroundColor3 = Color3.fromRGB(0, 122, 204)
impressButton.Parent = panel

-- Hacer el botón redondo
local impressButtonCorner = Instance.new("UICorner")
impressButtonCorner.CornerRadius = UDim.new(1, 0)
impressButtonCorner.Parent = impressButton

-- Funcionalidad del botón "Click para impresionarte"
impressButton.MouseButton1Click:Connect(function()
    -- Reproducir sonido de impresión
    local impressSound = Instance.new("Sound")
    impressSound.SoundId = impressSoundId
    impressSound.Parent = screenGui
    impressSound:Play()
end)

-- Funcionalidad del botón Get Key (Copiar el link)
extraButton.MouseButton1Click:Connect(function()
    -- Copiar el enlace al portapapeles
    setclipboard(link)

    -- Cambiar el texto del botón
    extraButton.Text = "Link copiado"

    -- Esperar 2 segundos antes de restaurar el texto del botón
    wait(2)

    -- Cambiar el texto del botón nuevamente
    extraButton.Text = "Get Key"
end)

-- Funcionalidad del botón Enter
enterButton.MouseButton1Click:Connect(function()
    if keyBox.Text == correctKey then
        panel:Destroy()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Whiteelpro/Key/refs/heads/main/blox"))()
    else
        StarterGui:SetCore("SendNotification", {
            Title = "Error",
            Text = "Clave incorrecta",
            Duration = 2
        })
    end
end)

-- Funcionalidad del botón de cierre
closeButton.MouseButton1Click:Connect(function()
    -- Cerrar el panel inmediatamente
    panel:Destroy()

    -- Mostrar texto en el centro de la pantalla con colores RGB cambiantes
    local swipeText = Instance.new("TextLabel")
    swipeText.Size = UDim2.new(0.8, 0, 0.2, 0)
    swipeText.Position = UDim2.new(0.1, 0, 0.4, 0)
    swipeText.BackgroundTransparency = 1
    swipeText.Text = "Whitexshop"
    swipeText.Font = Enum.Font.GothamBold
    swipeText.TextSize = 40
    swipeText.TextColor3 = Color3.fromRGB(255, 255, 255)
    swipeText.Parent = screenGui

    -- Crear un efecto RGB para el texto
    local tween = TweenService:Create(
        swipeText,
        TweenInfo.new(3, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut),
        {TextColor3 = Color3.fromRGB(math.random(0, 255), math.random(0, 255), math.random(0, 255))}
    )
    tween:Play()

    -- Desvanecer el texto en 3 segundos
    local fadeTween = TweenService:Create(
        swipeText,
        TweenInfo.new(3, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut),
        {TextTransparency = 1}
    )
    fadeTween:Play()

    -- Esperar 1 segundo antes de reproducir el sonido
    wait(1)

    -- Reproducir sonido
    local sound = Instance.new("Sound")
    sound.SoundId = soundId
    sound.Parent = screenGui
    sound:Play()
end)
